# 📝 Clepsydra (물시계) 기획서

## 1. 프로젝트 개요
*   **프로젝트명:** Clepsydra (클렙시드라)
*   **플랫폼:** iOS / Android (Flutter 기반)
*   **핵심 가치:** 단순한 타이머가 아닌, **여러 개의 시간 블록(Time Block)을 연결**하여 나만의 루틴이나 작업을 관리하는 타이머 앱.
*   **현재 버전:** v0.1.0 (Prototype 단계)

## 2. 핵심 기능 (Key Features)

### 2.1. 스플래시 (Splash Screen)
*   **기능:** 앱 실행 시 브랜드 로고 노출 및 초기화.
*   **디자인:** 검은색 배경에 `clepsydra.png` 로고 사용 (또는 화면 꽉 채우는 배경).
*   **기술:** `flutter_native_splash` 패키지 활용 (Android 12+ 대응 포함).

### 2.2. 타이머 목록 (Timer List - Home)
*   **기능:**
    *   저장된 타이머 루틴들을 그리드(Grid) 형태로 조회.
    *   **서버/로컬 데이터 연동:** (현재는 Mock Data 50개 생성 후 2초 지연 로딩 시뮬레이션).
    *   **생성 (Create):** Floating Action Button (+) 클릭 시 타이틀 입력 다이얼로그 출력 후 생성 모드로 진입.
    *   **수정 (Edit):** 리스트 아이템 클릭 시 해당 타이머의 편집 모드로 진입.
*   **UI 구성:**
    *   2열 그리드 뷰.
    *   각 카드는 둥근 모서리(Rounded)와 보라색 테마 적용.

### 2.3. 타이머 구성/편집 (Time Tracker / Editor)
*   **기능:** 하나의 타이머 루틴을 구성하는 세부 화면.
*   **모드 구분:** `TimerMode.create` (신규) / `TimerMode.edit` (편집).
*   **시간 블록 관리:**
    *   **블록 추가:** 하단 타임 피커(`TimePicker`)를 통해 원하는 시간(Duration)을 리스트에 추가.
    *   **블록 리스트:** 추가된 시간 블록들이 역순(`reverse: true`) 리스트로 쌓임.
    *   **시각화:** 각 시간 블록은 `TimeBlock` 위젯으로 시각화.
*   **재생:** 설정이 완료되면 재생 버튼을 눌러 실행 화면으로 이동.

### 2.4. 타이머 실행 (Timer Runner)
*   **기능:** 설정된 시간 블록들을 순차적으로 실행.
*   **시각 효과:** Lottie 애니메이션(`hourglass.json`, `glass.json`)을 활용하여 시간의 흐름을 시각적으로 표현.
*   **상호작용:** (추후 구현 예정: 일시정지, 다음 블록 넘기기, 진동 피드백 등)

## 3. 사용자 흐름 (User Flow)

1.  **앱 실행** -> 스플래시 스크린 로딩.
2.  **메인 화면 (리스트)** 진입.
3.  **새 타이머 만들기:**
    *   (+) 버튼 클릭 -> **타이틀 입력 팝업** 등장.
    *   타이틀 입력 후 '만들기' -> **타이머 구성 화면**으로 이동.
4.  **타이머 구성:**
    *   시간(분/초) 선택 -> 블록 추가 (반복).
    *   (예: 25분 공부 -> 5분 휴식 -> 25분 공부)
5.  **실행 (Play):**
    *   재생 버튼 클릭 -> **타이머 실행 화면** 진입.
    *   애니메이션과 함께 시간 카운트다운.

## 4. 기술 스택 (Tech Stack)

*   **Framework:** Flutter (Dart 3.x)
*   **State Management:** `setState` (현재 단계), 추후 복잡도 증가 시 Riverpod/Provider 고려.
*   **Assets & UI:**
    *   `lottie`: 고품질 벡터 애니메이션 재생.
    *   `vibration`: 햅틱 피드백 (타이머 종료/버튼 클릭 시).
    *   `cupertino_icons`: iOS 스타일 아이콘.
*   **Navigation:** 기본 `Navigator` (Stack 구조).

## 5. 향후 개발 계획 (To-Do)

*   **데이터 영속성 (Persistence):** 현재 메모리상의 Mock Data를 실제 로컬 DB(Isar, Hive) 또는 서버와 연동하여 저장 기능 구현.
*   **백그라운드 타이머:** 앱을 내려도 타이머가 동작하거나 알림(Notification)을 보낼 수 있도록 구현.
*   **UI 폴리싱:** 전반적인 테마(Theme) 정리 및 다크 모드 최적화.
